# github pages 部署杂谈

## 前言

最近我完成了我的第一个开源项目，想要借助github pages部署来实现预览，但是遇到了重重问题，在解决问题的过程中，很多与之并没有直接关系的知识不讲道理的闯入我的脑海。

## git提交规范

因为开源项目都有严格的提交规范嘛，所以我就打算好好学一下，然后知道啊，原来规范的git提交是这样的啊！

```
tpye(scope)：subject //类型(范围)：简要说明

body //详细说明，包含动机，等等

footer //注释 影响范围
```

这才是git的规范提交，结构化程度很高不是吗？非常容易记，然后是提交的类型：

```
feat 特征
fix 修复 
docs 文档
refactor 重构
style 格式
perf 性能
test 测试
chore 依赖 构建流程
......
```

记住还不算太困难！！！掌握了提交规范，你就可以正式的去参与别人的开源项目了！！

## github pages的部署

在掌握提交规范之后，我开始进行pnpm run build去打包项目，然后部署在github上，然后再设置github pages什么的，但是结果却是404，后来查阅了很多资料才明白，啊，原来要这样啊！

首先，设置一个base路径，我是用vite构建的项目，所以在vite的配置文件中加入：

```
base : '/你的仓库名/'
```

然后再打包，用git单独提交dist到gh-pages分支上

```
git add dist -f  //一般git会自动忽略dist文件，所有要-f 强制添加到缓存区
git commit -m 'fix:github pages部署基础路径问题'  //使用git规范去提交哦
git subtree push --prefix  distorigin gh-pages 
//在提交树中选取dist，然后提交到gh-pages分支，如果没有，它会自动创建
```

> 不知道为什么提交dist文件的时间特别的长！！

## 结语

终于解决问题了！！！！！

上面只是我在部署项目的时候发生的部分问题，实际上，我在部署的时候，还发现，生成环境没有启用mock，登录不进去等等情况，解决了一系列问题之后，项目终于部署成功了！！！

> 第一次部署成功项目之后的成就感与满足感真的很棒！！